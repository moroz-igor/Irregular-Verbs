function etalonarr(count) {
    var etalonstring = ["arise arose arisen",
        "awake awoke awaked awoke",
        "be was were been",
        "bear bore borne born",
        "beat beat beaten",
        "become became become",
        "begin began begun",
        "blow blew blown",
        "break broke broken",
        "bring brought brought",
        "build built built",
        "burn burnt burnt",
        "burst burst burst",
        "buy bought bought",
        "catch caught caught",
        "catch caught caught",
        "choose chose chosen",
        "come came come",
        "cost cost cost",
        "creep crept crept",
        "cut cut cut",
        "do did done",
        "draw drew drawn",
        "draw drew drawn",
        "drive drove driven",
        "eat ate eaten",
        "fall fell fallen",
        "feed fed fed",
        "feel felt felt",
        "fight fought fought",
        "find found found",
        "fly flew flown",
        "forget forgot forgotten",
        "forgive forgave forgiven",
        "freeze froze frozen",
        "get got got",
        "give gave given",
        "go went gone",
        "grow grew grown",
        "hang hung hung",
        "have had had",
        "hear heard heard",
        "hide hid hidden",
        "hit hit hit",
        "hold held held",
        "hurt hurt hurt",
        "keep kept kept",
        "kneel knelt knelt",
        "know knew known",
        "lay laid laid",
        "lead led led",
        "lean leant leant",
        "learn learnt learnt",
        "leave left left",
        "lend lent lent",
        "let let let",
        "lie lay lain",
        "light lit lit",
        "lose lost lost",
        "make made made",
        "mean meant meant",
        "meet met met",
        "mistake mistook mistaken",
        "pay paid paid",
        "prove proved proven",
        "put put put",
        "quit quit quit",
        "read read read",
        "ride rode ridden",
        "ring rang rung",
        "rise rose risen",
        "run ran run",
        "say said said",
        "see saw seen",
        "seek sought sought",
        "sell sold sold",
        "send sent sent",
        "set set set",
        "sew sewed sewn",
        "shake shook shaken",
        "show showed shown",
        "shrink shrank shrunk",
        "shut shut shut",
        "sing sang sung",
        "sink sank sunk",
        "sit sat sat",
        "sleep slept slept",
        "slide slid slid",
        "sow sowed sown",
        "speak spoke spoken",
        "spell spelt spelt",
        "spend spent spent",
        "spill spilt spilt",
        "spoil spoilt spoilt",
        "spread spread spread",
        "spring sprang sprung",
        "stand stood stood",
        "steal stole stolen",
        "stick stuck stuck",
        "sting stung stung",
        "sweep swept swept",
        "swell swelled swollen",
        "swim swam swum",
        "swing swung swung",
        "take took taken",
        "teach taught taught",
        "tear tore torn",
        "tell told told",
        "think thought thought",
        "throw threw thrown",
        "thrive throve thriven",
        "undertake undertook undertaken",
        "understand understood understood",
        "wake woke woken",
        "wear wore worn",
        "weep wept wept",
        "wet wet wet",
        "win won won",
        "wind wound wound",
        "write wrote written"];

    function string_element() {
        return etalonstring[count];
    }
    return string_element();
}

function rusword(count) {
    var russian_word = ["1 ) Появляться",
        "2 ) Просыпаться",
        "3 ) Быть",
        "4 ) Носить, рожать",
        "5 ) Бить",
        "6 ) Становиться",
        "7 ) Начинать",
        "8 ) Дуть",
        "9 ) Ломать",
        "10) Приносить",
        "11) Строить",
        "12) Гореть",
        "13) Взрываться",
        "14) Покупать",
        "15) Ловить",
        "16) Хватать",
        "17) Выбирать",
        "18) Приходить",
        "19) Стоить",
        "20) Ползать",
        "21) Резать",
        "22) Делать",
        "23) Рисовать",
        "24) Тащить",
        "25) Водить",
        "26) Есть",
        "27) Падать",
        "28) Кормить",
        "29) Чувствовать",
        "30) Бороться",
        "31) Находить",
        "32) Летать",
        "33) Забывать",
        "34) Прощать",
        "35) Замерзать",
        "36) Получать",
        "37) Давать",
        "38) Идти",
        "39) Расти",
        "40) Вешать",
        "41) Иметь",
        "42) Слышать",
        "43) Прятать",
        "44) Поп. в цель",
        "45) Держать",
        "46) Причинять боль",
        "47) Xранить",
        "48) Стоять на кол.",
        "49) Знать",
        "50) Класть",
        "51) Вести",
        "52) Наклоняться",
        "53) Учить",
        "54) Оставлять",
        "55) Давать взаймы",
        "56) Позволять",
        "57) Лежать",
        "58) Освещать",
        "59) Терять",
        "60) Производить",
        "61) Значить",
        "62) Встречать",
        "63) Ошибаться",
        "64) Платить",
        "65) Доказывать",
        "66) Положить",
        "67) Покидать, бросать",
        "68) Читать",
        "69) Ездить верхом",
        "70) Звенеть",
        "71) Подниматься",
        "72) Бежать",
        "73) Говорить",
        "74) Видеть",
        "75) Искать",
        "76) Продавать",
        "77) Посылать",
        "78) Ставить",
        "79) Шить",
        "80) Встряхивать",
        "81) Показывать",
        "82) Сжиматься",
        "83) Закрывать",
        "84) Петь",
        "85) Тонуть",
        "86) Сидеть",
        "87) Спать",
        "88) Скользить",
        "89) Сеять",
        "90) Говорить",
        "91) Произносить",
        "92) Тратить",
        "93) Проливать",
        "94) Портить",
        "95) Расстилать",
        "96) Прыгать",
        "97) Стоять",
        "98) Красть",
        "99) Колоть",
        "100) Жалить",
        "101) Выметать",
        "102) Разбухать",
        "103) Плавать",
        "104) Качать",
        "105) Брать, взять",
        "106) Учить",
        "107) Рвать",
        "108) Рассказывать",
        "109) Думать",
        "110) Бросать",
        "111) Процветать",
        "112) Браться",
        "113) Понимать",
        "114) Просыпаться",
        "115) Носить (одежду)",
        "116) Плакать",
        "117) Мочить",
        "118) Выигрывать",
        "119) Извиваться",
        "120) Писать" ];

    function russian_word_element() {
        return russian_word[count];
    }
    return russian_word_element();
}

function filling_answer() {
    for (var i = 1; i <= 120; i++) {
        document.getElementById('correct_' + i).innerHTML = etalonarr(i - 1);
        document.getElementById('rusword_' + i).innerHTML = rusword(i - 1);
    }
}
filling_answer();

function transet(stringet) {
    var arretalon = new Array(stringet.length);
    for (var i = 0; i < stringet.length; i++) {
        arretalon[i] = stringet[i];
    }
    return arretalon;
}

function transus(stringus) {
    var arruser = new Array(stringus.length);
    stringus = stringus.toLowerCase();
    for (var i = 0; i < stringus.length; i++) {
        arruser[i] = stringus[i];
    }
    do {
        var flag = true;
        if (arruser[arruser.length - 1] == " ") {
            arruser.pop();
            flag = false;
        }
        if (arruser[0] == " ") {
            arruser.shift();
            flag = false;
        }
        for (var i = 0; i < arruser.length; i++) {
            if ((arruser[i] == " ") && (arruser[i + 1] == " ")) {
                arruser.splice(i, 1);
                flag = false;
            }

        }
    } while (flag == false);
    return arruser;
}

function specialSimbols(userString, special_mes) {
    var simbol = true;
    for (var i = 0; i < userString.length; i++) {
        if (userString[i] == "," || userString[i] == "." || userString[i] == "\\" || userString[i] == "\/" || userString[i] == "!" || userString[i] == "?" || userString[i] == "!" || userString[i] == "[" || userString[i] == "]" || userString[i] == "(" || userString[i] == ")" || userString[i] == "~" || userString[i] == "%" || userString[i] == "$" || userString[i] == "^" || userString[i] == "*" || userString[i] == "-" || userString[i] == "_" || userString[i] == "=" || userString[i] == "+" || userString[i] == "@" || userString[i] == "\"" || userString[i] == "'" || userString[i] == ":" || userString[i] == ";" || userString[i] == "|" || userString[i] == "{" || userString[i] == "}" || userString[i] == "&" || userString[i] == "#" || userString[i] == "`" || userString[i] == "<" || userString[i] == ">") {
            simbol = false;
        }
    }

    if (simbol == false) {
        $(document).ready(function() {
            var warning_spesial = $(special_mes);
            warning_spesial.show(500);
        });
    } else {
        $(document).ready(function() {
            var warning_spesial = $(special_mes);
            warning_spesial.hide(500);
        });
    }
}

function compare(userString, etalonString) {
    var comuser = transus(userString);
    var cometal = transet(etalonString);

    var overallresult = true;

    if (cometal.length !== comuser.length) {
        overallresult = false;

    } else {
        var flag = true;
        for (var i = 0; i < cometal.length; i++) {
            if (cometal[i] == comuser[i]) {
                flag = true;
            } else {
                flag = false;
                overallresult = flag;
            }
        }
    }
    return overallresult;
}

function visual_result(result, lamp, answer, correct, incorrect) {
    if (result == true) {
        document.getElementById(lamp).src = 'images/lamp_on.gif';
    } else {
        document.getElementById(lamp).src = 'images/lamp_of.gif';
        $(document).ready(function() {
            answer = $(answer);
            answer.show(500);
            correct = $(correct);
            correct.show(500);
            $('.answer_name').show(500);
        });
    }
}

function start_training() {
    $(document).ready(function() {
        $('.answer_block').fadeOut();
        $('.statistics').show(900);
    });
}
// скрытие окна статистики кнопкой 'Hide statistics'
function stop_training() {
    $(document).ready(function() {
        $('.statistics').hide(600);
    });
}

$(document).ready(function() {
    $('.red').hide();
    $('.statistics').hide();
    $('.answer_name').hide();
});

function hide_five(count) {
    $(document).ready(function() {
        $('#five_' + count).hide(600);
    });
}

function hide_twenty(count) {
    $(document).ready(function() {
        $('#twenty_' + count).fadeOut(600);
    });
}

function show_twenty(count) {
    $(document).ready(function() {
        $('#twenty_' + count).fadeIn(600);
    });
}

function twenty(count) {
    for (var i = 1; i < count; i++) {
        hide_twenty(i);
    }
    for (var i = 6; i >= count; i--) {
        show_twenty(i);
    }
}

function countCorrect() {
    var count_corr = $("#count_correct").html();
    count_corr = count_corr * 1 + 1;
    document.getElementById('count_correct').innerHTML = count_corr;
}

function countInorrect() {
    var count_corr = $("#count_incorrect").html();
    count_corr = count_corr * 1 + 1;
    document.getElementById('count_incorrect').innerHTML = count_corr;
}

function progressive(count) {
    // start_training();
    var lamp = "lamp_" + count,
        result = "result_" + count,
        answer = "#answer_" + count,
        correct = "#correct_" + count,
        special_mes = "#special_mes_" + count;
    // проверяем не вызывалась ли функции ранее    
    var attendance = $("#attendance_" + count).html();
    attendance = attendance * 1;

    var user_string = document.getElementById('user_string_' + count).value;
    //если нет и поле заполнено - запускаем компарацию    
    if (user_string.length > 0 && attendance == 0) {
        --count;
        resultOfCompare = compare(user_string, etalonarr(count));
        document.getElementById(result).innerHTML = resultOfCompare;
        visual_result(resultOfCompare, lamp, answer, correct);
        specialSimbols(user_string, special_mes);

        attendance = attendance * 1 + 1;
        ++count;
        document.getElementById('attendance_' + count).innerHTML = attendance;
        if (resultOfCompare == true) {
            countCorrect();
        } else {
            countInorrect();
        }
    }
    if ($("#attendance_" + count).html() !== '0') {
        $('#user_string_' + count).attr('readonly', 'readonly');
        $('#button_' + count).attr('disabled', 'disabled');
    }
    return attendance;
}

function dropping_focus() {
    for (var i = 1; i <= 120; i++) {
        document.getElementById('flag_' + i).innerHTML = 0;
        document.getElementById('flag_up_' + i).innerHTML = 0;
    }
}
    $(function() {
             var focusClick = 0;
		$('#user_string_1').focus(function() { focusClick = 1; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_2').focus(function() { focusClick = 2; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_3').focus(function() { focusClick = 3; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_4').focus(function() { focusClick = 4; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_5').focus(function() { focusClick = 5; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_6').focus(function() { focusClick = 6; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_7').focus(function() { focusClick = 7; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_8').focus(function() { focusClick = 8; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_9').focus(function() { focusClick = 9; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
		$('#user_string_10').focus(function() { focusClick = 10; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_11').focus(function() { focusClick = 11; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_12').focus(function() { focusClick = 12; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_13').focus(function() { focusClick = 13; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_14').focus(function() { focusClick = 14; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_15').focus(function() { focusClick = 15; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_16').focus(function() { focusClick = 16; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_17').focus(function() { focusClick = 17; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_18').focus(function() { focusClick = 18; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_19').focus(function() { focusClick = 19; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_20').focus(function() { focusClick = 20; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_21').focus(function() { focusClick = 21; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_22').focus(function() { focusClick = 22; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_23').focus(function() { focusClick = 23; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_24').focus(function() { focusClick = 24; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_25').focus(function() { focusClick = 25; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_26').focus(function() { focusClick = 26; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_27').focus(function() { focusClick = 27; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_28').focus(function() { focusClick = 28; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_29').focus(function() { focusClick = 29; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_30').focus(function() { focusClick = 30; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_31').focus(function() { focusClick = 31; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_32').focus(function() { focusClick = 32; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_33').focus(function() { focusClick = 33; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_34').focus(function() { focusClick = 34; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_35').focus(function() { focusClick = 35; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_36').focus(function() { focusClick = 36; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_37').focus(function() { focusClick = 37; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_38').focus(function() { focusClick = 38; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_39').focus(function() { focusClick = 39; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_40').focus(function() { focusClick = 40; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_41').focus(function() { focusClick = 41; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_42').focus(function() { focusClick = 42; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_43').focus(function() { focusClick = 43; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_44').focus(function() { focusClick = 44; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_45').focus(function() { focusClick = 45; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_46').focus(function() { focusClick = 46; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_47').focus(function() { focusClick = 47; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_48').focus(function() { focusClick = 48; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_49').focus(function() { focusClick = 49; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_50').focus(function() { focusClick = 50; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_51').focus(function() { focusClick = 51; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_52').focus(function() { focusClick = 52; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_53').focus(function() { focusClick = 53; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_54').focus(function() { focusClick = 54; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_55').focus(function() { focusClick = 55; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_56').focus(function() { focusClick = 56; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_57').focus(function() { focusClick = 57; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_58').focus(function() { focusClick = 58; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_59').focus(function() { focusClick = 59; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_60').focus(function() { focusClick = 60; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_61').focus(function() { focusClick = 61; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_62').focus(function() { focusClick = 62; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_63').focus(function() { focusClick = 63; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_64').focus(function() { focusClick = 64; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_65').focus(function() { focusClick = 65; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_66').focus(function() { focusClick = 66; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_67').focus(function() { focusClick = 67; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_68').focus(function() { focusClick = 68; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_69').focus(function() { focusClick = 69; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_70').focus(function() { focusClick = 70; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); }); 
    
        $('#user_string_71').focus(function() { focusClick = 71; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_72').focus(function() { focusClick = 72; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_73').focus(function() { focusClick = 73; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_74').focus(function() { focusClick = 74; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_75').focus(function() { focusClick = 75; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_76').focus(function() { focusClick = 76; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_77').focus(function() { focusClick = 77; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_78').focus(function() { focusClick = 78; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_79').focus(function() { focusClick = 79; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_80').focus(function() { focusClick = 80; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });                      
    
        $('#user_string_81').focus(function() { focusClick = 81; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_82').focus(function() { focusClick = 82; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_83').focus(function() { focusClick = 83; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_84').focus(function() { focusClick = 84; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_85').focus(function() { focusClick = 85; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_86').focus(function() { focusClick = 86; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_87').focus(function() { focusClick = 87; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_88').focus(function() { focusClick = 88; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_89').focus(function() { focusClick = 89; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_90').focus(function() { focusClick = 90; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_91').focus(function() { focusClick = 91; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_92').focus(function() { focusClick = 92; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_93').focus(function() { focusClick = 93; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_94').focus(function() { focusClick = 94; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_95').focus(function() { focusClick = 95; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_96').focus(function() { focusClick = 96; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_97').focus(function() { focusClick = 97; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_98').focus(function() { focusClick = 98; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_99').focus(function() { focusClick = 99; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); }); 
        
		$('#user_string_100').focus(function() { focusClick = 100; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_101').focus(function() { focusClick = 101; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_102').focus(function() { focusClick = 102; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_103').focus(function() { focusClick = 103; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_104').focus(function() { focusClick = 104; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_105').focus(function() { focusClick = 105; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_106').focus(function() { focusClick = 106; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_107').focus(function() { focusClick = 107; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_108').focus(function() { focusClick = 108; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_109').focus(function() { focusClick = 109; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_110').focus(function() { focusClick = 110; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    
        $('#user_string_111').focus(function() { focusClick = 111; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_112').focus(function() { focusClick = 112; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_113').focus(function() { focusClick = 113; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_114').focus(function() { focusClick = 114; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_115').focus(function() { focusClick = 115; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_116').focus(function() { focusClick = 116; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_117').focus(function() { focusClick = 117; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_118').focus(function() { focusClick = 118; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_119').focus(function() { focusClick = 119; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
    $('#user_string_120').focus(function() { focusClick = 120; document.getElementById('autofocus').innerHTML = focusClick; dropping_focus(); });           
   });

function moveRect(e) {
    $(function() {
        var result = 0;
        result = e.keyCode;
        var count = 0;
        var flag = new Array();
        var flagUp = new Array();
        var execut = new Array();
        var amount = 120;
        for (var i = 1; i <= amount; i++) {
            flag[i] = $("#flag_" + i).html();
            flagUp[i] = $("#flag_up_" + i).html();
        }
        var autofocus = 1;

        function focusStepDown() {
            var startDown = $("#autofocus").html();
            startDown = startDown * 1;

            for (var i = 1; i <= amount; i++) {
                document.getElementById('flag_up_' + i).innerHTML = 0;
            }
            for (var i = startDown + 1; i <= amount; i++) {
                if (flag[i] == 0) {
                    count = i;
                    document.getElementById('flag_' + i).innerHTML = i;
                    result = 0;
                    break;
                }
            }
        }
        function focusStepUp() {
            var startUp = $("#autofocus").html();
            startUp = startUp * 1;
            for (var i = 1; i <= amount; i++) {
                document.getElementById('flag_' + i).innerHTML = 0;
            }
            for (var j = startUp - 1; j >= 1; j--) {
                if (flagUp[j] == 0) {
                    count = j;
                    document.getElementById('flag_up_' + j).innerHTML = j;
                    result = 0;
                    break;
                }
            }
        }
        function validation() {
            var number = $("#autofocus").html();
            number = number * 1;
            for (var i = 1; i <= amount; i++) {
                execut[i] = $("#attendance_" + i).html();
                if (execut[i] == 0 && i == number) {
                    progressive(number);
                    count = number + 1;
                    $("#user_string_" + count).focus();
                    break;
                }
            }
        }
        if (result == 40) focusStepDown();
        if (result == 38) focusStepUp();
        if (result == 13) validation();
        if (result == 37) start_training();
        if (result == 39) stop_training();
        $("#user_string_" + count).focus(function() {
            autofocus = count;
            document.getElementById('autofocus').innerHTML = autofocus;
        });
        $("#user_string_" + count).focus();
    });
}
addEventListener("keydown", moveRect);